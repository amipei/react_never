(window.webpackJsonpreast_never=window.webpackJsonpreast_never||[]).push([[0],{27:function(e,t,a){e.exports=a(45)},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n,c,r=a(0),s=a.n(r),o=a(14),l=a.n(o),i=a(7),u=a(10),m=a(9),E=a(25),f=a(16);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}!function(e){e.FETCH_STARTED="NEW_BOOK/FETCH_STARTED",e.FETCH_SUCCESS="NEW_BOOK/FETCH_SUCCESS",e.FETCH_FAILURE="NEW_BOOK/FETCH_FAILURE"}(n||(n={})),function(e){e.LOADING="loading",e.SUCCESS="success",e.FAILURE="failure"}(c||(c={}));var d;function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}!function(e){e.FETCH_STARTED="DEFAILS/FETCH_STARTED",e.FETCH_SUCCESS="DEFAILS/FETCH_SUCCESS",e.FETCH_FAILURE="DEFAILS/FETCH_FAILURE"}(d||(d={}));var O=Object(m.c)({newBook:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:c.LOADING},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.FETCH_STARTED:return{status:c.LOADING};case n.FETCH_SUCCESS:return p({},e,{status:c.SUCCESS},t.result);case n.FETCH_FAILURE:return{status:c.FAILURE};default:return e}},details:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:c.LOADING},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.FETCH_STARTED:return{status:c.LOADING};case d.FETCH_SUCCESS:return v({},e,{status:c.SUCCESS},t.result);case d.FETCH_FAILURE:return{status:c.FAILURE};default:return e}}});a(36);var S,C=a(11),h=(a(37),function(e){var t=e.title,a=e.extra;return s.a.createElement("div",{className:"header"},s.a.createElement("h2",{className:"".concat("header","__title")},t),s.a.createElement("div",{className:"".concat("header","__extra")},a))}),N=(a(38),function(e){var t=e.title,a=e.data,n=e.renderItem;return s.a.createElement("div",{className:"express"},s.a.createElement(h,{title:t,extra:s.a.createElement(i.b,{to:"/"},"\u67e5\u770b\u5168\u90e8")}),s.a.createElement("div",{className:"".concat("express","__content")},a.map(function(e,t){return t>5?null:n(e,t)})))}),y="0df993c66c0c636e29ecbb5344252a4a",T=function(e){var t=e.classPrefix,a=e.item;e.index;return s.a.createElement(i.b,{to:"/details/".concat(a.isbn13),className:"".concat(t,"__item")},s.a.createElement("div",{className:"".concat(t,"__img-wrap")},s.a.createElement("img",{className:"".concat(t,"__img"),src:"".concat(a.image,"?apikey=").concat(y)})),s.a.createElement("h3",{className:"".concat(t,"__title")},a.title),s.a.createElement("span",{className:"".concat(t,"__author")},a.author))},F=a(17),g=a.n(F),j=function(){return{type:n.FETCH_STARTED}},A=function(){return function(e,t){var a="https://api.douban.com/v2/book/search?apikey=".concat(y,"&tag=2019");e(j),g()(a).then(function(e){return e.json()}).then(function(t){var a;e((a=t,{type:n.FETCH_SUCCESS,result:a}))}).catch(function(t){e(function(e){return{type:n.FETCH_FAILURE,error:e}}(t))})}},w=function(e){return e.newBook},D=function(){var e=Object(u.b)();console.log(233),Object(r.useEffect)(function(){e(A())},[e]);var t=Object(r.useCallback)(function(){e(A())},[e]);return{data:Object(u.c)(w),fetchData:t}},H=(a(40),function(){var e=D().data,t=e.books,a=e.status;console.log(t);return s.a.createElement("div",{className:"new-book"},a===c.SUCCESS?s.a.createElement(N,{title:"\u65b0\u4e66\u901f\u9012",to:"/tos",data:t,renderItem:function(e,t){return s.a.createElement(T,{classPrefix:"new-book",key:"newbook"+t,index:t,item:e})}}):null)}),U=function(){return{type:d.FETCH_STARTED}},I=function(e){return function(t,a){var n="https://api.douban.com/v2/book/isbn/".concat(e,"?apikey=").concat(y);t(U),g()(n).then(function(e){return e.json()}).then(function(e){var a;t((a=e,{type:d.FETCH_SUCCESS,result:a}))}).catch(function(e){t(function(e){return{type:d.FETCH_FAILURE,error:e}}(e))})}},k=a(12),L=(a(41),function(e){var t=e.data,a=R(t);return s.a.createElement("div",{className:"summary"},s.a.createElement("h3",{className:"".concat("summary","__title")},"\u5185\u5bb9\u7b80\u4ecb"),a.map(function(e,t){return s.a.createElement("p",{className:"".concat("summary","__p"),key:t+"text"},e)}))}),R=function(e){for(var t=/([^]*?[\n\r])/g,a=[];;){var n=t.exec(e);if(!n)break;a.push(n[0])}return a},P=(a(42),a(43),function(){return s.a.createElement("div",{className:"dividers"})}),x=(a(44),function(){return s.a.createElement("div",{className:"interest"},s.a.createElement("div",{className:"".concat("interest","__item")},s.a.createElement("span",{className:"".concat("interest","__icon")},s.a.createElement(k.c,null)),s.a.createElement("span",null,"\u559c\u6b22")),s.a.createElement("div",{className:"".concat("interest","__item")},s.a.createElement("span",{className:"".concat("interest","__icon")},s.a.createElement(k.d,null)),s.a.createElement("span",null,"\u5206\u4eab")),s.a.createElement("div",{className:"".concat("interest","__item")},s.a.createElement("span",{className:"".concat("interest","__icon")},s.a.createElement(k.b,null)),s.a.createElement("span",null,"\u5728\u770b")))}),B=function(e){var t=e.match.params.isbn,a=Object(u.b)();Object(r.useEffect)(function(){a(I(t))},[a]);var n=Object(u.c)(function(e){return e.details});console.log(n);return s.a.createElement("div",{className:"details"},s.a.createElement("nav",{className:"details__nav"},s.a.createElement(i.b,{to:"/",className:"details__link"},s.a.createElement(k.a,null))),s.a.createElement("div",{className:"".concat("details","__info")},s.a.createElement("div",{className:"".concat("details","__img-wrap")},s.a.createElement("img",{className:"".concat("details","__img"),src:n.image,alt:n.alt})),s.a.createElement("div",{className:"".concat("details","__description")},s.a.createElement("h2",{className:"".concat("details","__title")},n.title),s.a.createElement("span",{className:"".concat("details","__author")},"\u4f5c\u8005\uff1a",n.author),s.a.createElement("span",{className:"".concat("details","__author-intro")}," ",n.author_intro))),s.a.createElement(P,null),s.a.createElement(x,null),s.a.createElement(P,null),s.a.createElement(L,{data:n.summary}))},G=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(C.a,{exact:!0,path:"/",component:H}),s.a.createElement(C.a,{exact:!0,path:"/details/:isbn",component:B}))},K=(S=void 0,Object(m.e)(O,S,Object(m.d)(Object(m.a)(E.a))));l.a.render(s.a.createElement(u.a,{store:K},s.a.createElement(i.a,null,s.a.createElement(G,null))),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.7a2ef4c2.chunk.js.map